---
interface Props {
  initialLayout?: string;
}

const { initialLayout = 'hero-focused' } = Astro.props;
---

<div id="layout-switcher" data-initial-layout={initialLayout}>
  <!-- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¬æ˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section id="demo-section" class="demo-info">
    <div class="container">
      <div class="info-content">
        <h2 id="layout-title">ğŸŒŸ Hero Focused Layout</h2>
        <p id="layout-description">
          Hero Focusedãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€<strong>å¤§ããªãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³</strong>ã§è¨ªå•è€…ã®æ³¨æ„ã‚’å¼•ãã¤ã‘ã€
          ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾¡å€¤ã‚’å³åº§ã«ä¼ãˆã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚
        </p>
        <div class="layout-features" id="layout-features">
          <div class="feature">
            <span class="feature-icon">ğŸ¯</span>
            <span>å¼·åŠ›ãªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³</span>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸ“Š</span>
            <span>çµ±è¨ˆæƒ…å ±ã®è¦–è¦šçš„è¡¨ç¤º</span>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸš€</span>
            <span>æ˜ç¢ºãªCTAãƒœã‚¿ãƒ³</span>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .demo-info {
    background: #f8fafc;
    padding: 3rem 0;
    border-bottom: 1px solid #e2e8f0;
  }

  .info-content {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .info-content h2 {
    font-size: 2rem;
    margin-bottom: 1rem;
    color: #2d3748;
  }

  .info-content p {
    font-size: 1.1rem;
    color: #718096;
    margin-bottom: 2rem;
    line-height: 1.6;
  }

  .layout-features {
    display: flex;
    gap: 2rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    font-weight: 500;
  }

  .feature-icon {
    font-size: 1.2rem;
  }

  @media (max-width: 768px) {
    .layout-features {
      flex-direction: column;
      align-items: center;
    }
  }
</style>

<script>
  interface LayoutInfo {
    title: string;
    description: string;
    features: Array<{ icon: string; text: string; }>;
  }

  class LayoutSwitcher {
    private initialLayout: string;
    private layoutTitle: HTMLElement;
    private layoutDescription: HTMLElement;
    private layoutFeatures: HTMLElement;
    private layoutInfo: Record<string, LayoutInfo>;

    constructor() {
      const switcher = document.getElementById('layout-switcher');
      this.initialLayout = switcher?.dataset.initialLayout || 'hero-focused';
      
      this.layoutTitle = document.getElementById('layout-title') as HTMLElement;
      this.layoutDescription = document.getElementById('layout-description') as HTMLElement;
      this.layoutFeatures = document.getElementById('layout-features') as HTMLElement;

      this.layoutInfo = {
        'hero-focused': {
          title: 'ğŸŒŸ Hero Focused Layout',
          description: 'Hero Focusedãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€<strong>å¤§ããªãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³</strong>ã§è¨ªå•è€…ã®æ³¨æ„ã‚’å¼•ãã¤ã‘ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾¡å€¤ã‚’å³åº§ã«ä¼ãˆã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚',
          features: [
            { icon: 'ğŸ¯', text: 'å¼·åŠ›ãªãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³' },
            { icon: 'ğŸ“Š', text: 'çµ±è¨ˆæƒ…å ±ã®è¦–è¦šçš„è¡¨ç¤º' },
            { icon: 'ğŸš€', text: 'æ˜ç¢ºãªCTAãƒœã‚¿ãƒ³' }
          ]
        },
        'minimal': {
          title: 'âœ¨ Minimal Layout',
          description: 'Minimalãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€<strong>ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£</strong>ã¨ä½™ç™½ã‚’æ´»ç”¨ã—ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿ã‚„ã™ã•ã‚’æœ€å„ªå…ˆã«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚',
          features: [
            { icon: 'ğŸ“', text: 'ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ä¸­å¿ƒã®è¨­è¨ˆ' },
            { icon: 'ğŸ¨', text: 'ãƒŸãƒ‹ãƒãƒ«ãªã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ' },
            { icon: 'ğŸ“±', text: 'ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£é‡è¦–' }
          ]
        }
      };

      this.init();
    }

    init() {
      this.updateLayoutInfo(this.initialLayout);
    }

    updateLayoutInfo(layoutType: string) {
      const info = this.layoutInfo[layoutType];
      if (!info) return;

      if (this.layoutTitle) {
        this.layoutTitle.innerHTML = info.title;
      }
      
      if (this.layoutDescription) {
        this.layoutDescription.innerHTML = info.description;
      }
      
      if (this.layoutFeatures) {
        this.layoutFeatures.innerHTML = info.features.map(feature => 
          `<div class="feature">
            <span class="feature-icon">${feature.icon}</span>
            <span>${feature.text}</span>
          </div>`
        ).join('');
      }
    }

    switchLayout(layoutType: string) {
      this.updateLayoutInfo(layoutType);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const layoutSwitcherInstance = new LayoutSwitcher();
    (window as any).layoutSwitcherInstance = layoutSwitcherInstance;
  });
</script>